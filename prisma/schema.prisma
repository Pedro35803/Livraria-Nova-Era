generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
    id Int @id @default(autoincrement())
    email String @unique
    password String
    @@map("user")
}

model Client {
    code Int @id @default(autoincrement())
    name String
    email_01 String
    email_02 String?
    phone_01 String
    phone_02 String?
    @@map(name: "client")
    @@index([code])
}

model physical_client {
    client_code Int @id @default(autoincrement())
    cpf String
    rg String
    @@map(name: "physical_client")
    @@index([client_code])
}

model legal_client {
    client_code Int @id @default(autoincrement())
    cnpj String
    @@map(name: "legal_client")
    @@index([client_code])
}

model order {
    number Int @id @default(autoincrement())
    status String
    payment_method String
    customer_code Int?
    @@map(name: "order")
    @@index([number])
}

model online_order {
    order_number Int @id @default(autoincrement())
    zip_code String
    state String
    city String
    street String
    number String
    complement String?
    @@map(name: "online_order")
    @@index([order_number])
}

model employee {
    code Int @id @default(autoincrement())
    name String
    @@map(name: "employee")
    @@index([code])
}

model in_person_order {
    order_number Int @id @default(autoincrement())
    employee_code Int?
    @@map(name: "in_person_order")
    @@index([order_number])
}

model publisher {
    cnpj String @id
    name String
    @@map(name: "publisher")
    @@index([cnpj])
}

model publisher_phone {
    publisher_cnpj String @id
    phone String?
    @@map(name: "publisher_phone")
    @@index([publisher_cnpj])
}

model publisher_email {
    publisher_cnpj String @id
    email String?
    @@map(name: "publisher_email")
    @@index([publisher_cnpj])
}

model book {
    code Int @id @default(autoincrement())
    title String
    release_year String
    publisher_cnpj String?
    @@map(name: "book")
    @@index([code])
}

model book_author {
    book_code Int @id @default(autoincrement())
    author String
    @@map(name: "book_author")
    @@index([book_code])
}

model book_category {
    book_code Int @id @default(autoincrement())
    category String?
    @@map(name: "book_category")
    @@index([book_code])
}

model copy {
    code Int @id @default(autoincrement())
    status String
    book_code Int?
    @@map(name: "copy")
    @@index([code])
}

model order_has_copy {
    id Int @id @default(autoincrement())
    order_number Int?
    copy_code Int?
    @@map(name: "order_has_copy")
    @@index([id])
}
